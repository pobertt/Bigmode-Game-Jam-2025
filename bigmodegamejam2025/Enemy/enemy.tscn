[gd_scene load_steps=8 format=3 uid="uid://dbjhc7pmmdv30"]

[ext_resource type="Script" path="res://Enemy/enemy.gd" id="1_p5vra"]
[ext_resource type="PackedScene" uid="uid://c8giknctto3q0" path="res://Enemy/cone.tscn" id="2_0nyk1"]
[ext_resource type="PackedScene" uid="uid://doryfyf5t73b" path="res://Enemy/EnemyAnim.tscn" id="3_a413t"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_70vpo"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_qbgx5"]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_ia488"]
points = PackedVector3Array(-0.000195742, 1, -0.000195742, 0.194988, -1, -0.980814, -0.000195742, -1, -1, -0.195184, -1, -0.980814, -0.382733, -1, -0.924041, -0.555599, -1, -0.831637, -0.707126, -1, -0.707126, -0.831637, -1, -0.555599, -0.924041, -1, -0.382733, -0.980814, -1, -0.195184, -1, -1, -0.000195742, -0.980814, -1, 0.194988, -0.924041, -1, 0.382537, -0.831637, -1, 0.555403, -0.707126, -1, 0.70693, -0.555599, -1, 0.831441, -0.382733, -1, 0.923845, -0.195184, -1, 0.980619, -0.000195742, -1, 1, 0.194988, -1, 0.980619, 0.382537, -1, 0.923845, 0.555403, -1, 0.831441, 0.70693, -1, 0.70693, 0.831441, -1, 0.555403, 0.923845, -1, 0.382537, 0.980619, -1, 0.194988, 1, -1, -0.000195742, 0.980619, -1, -0.195184, 0.923845, -1, -0.382733, 0.831441, -1, -0.555599, 0.70693, -1, -0.707126, 0.555403, -1, -0.831637, 0.382537, -1, -0.924041)

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_1hkik"]

[node name="Enemy" type="CharacterBody3D"]
script = ExtResource("1_p5vra")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_70vpo")

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="."]
visible = false
mesh = SubResource("CapsuleMesh_qbgx5")
skeleton = NodePath("../NavigationAgent3D")

[node name="VisionArea" type="Area3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, -0.944089)

[node name="cone" parent="VisionArea" instance=ExtResource("2_0nyk1")]
transform = Transform3D(5, 0, 0, 0, -2.18557e-07, -5, 0, 5, -2.18557e-07, 0, 0, -6.49206)
visible = false

[node name="CollisionShape3D" type="CollisionShape3D" parent="VisionArea"]
transform = Transform3D(5, 0, 0, 0, -2.18557e-07, -5, 0, 5, -2.18557e-07, 0, 0, -6.49206)
shape = SubResource("ConvexPolygonShape3D_ia488")

[node name="VisionTimer" type="Timer" parent="."]
wait_time = 0.25
autostart = true

[node name="VisionRayCast" type="RayCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -1, 8.74228e-08, 0, -8.74228e-08, -1, 0, 0, 0)
target_position = Vector3(0, 0, -100)
debug_shape_custom_color = Color(1, 1, 0, 1)

[node name="AggroTimer" type="Timer" parent="."]
wait_time = 4.0
one_shot = true

[node name="IdleTimer" type="Timer" parent="."]
wait_time = 3.0
one_shot = true

[node name="DamageArea" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DamageArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.723257)
shape = SubResource("CapsuleShape3D_1hkik")

[node name="animations" parent="." instance=ExtResource("3_a413t")]

[node name="Physical Bone mixamorig_Hips" parent="animations/Armature/Skeleton3D" index="1"]
transform = Transform3D(97.9817, 19.6355, -3.74539, -19.2373, 97.7162, 9.02622, 5.4322, -8.12353, 99.5214, -1.7792, -4.5919, -455.984)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.46704e-07, -2.75671e-07, 0.179274)
body_offset = Transform3D(100, -3.62396e-05, -1.68085e-05, -1.61529e-05, 4.96496, -99.8767, 3.8147e-05, 99.8766, 4.96496, 4.76837e-05, 17.9053, -0.890062)

[node name="Physical Bone mixamorig_Spine" parent="animations/Armature/Skeleton3D" index="2"]
transform = Transform3D(97.7454, 20.668, -4.32078, -20.7838, 97.7863, -2.42331, 3.72428, 3.2667, 99.8772, -0.204085, -5.70309, -494.714)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -7.85256e-07, -9.51059e-07, 0.209145)
body_offset = Transform3D(100, -0.000139236, -1.66893e-05, -1.87159e-05, -6.00815e-05, -100, 0.000139236, 100, -6.50883e-05, 8.2016e-05, 20.9145, 0.000108719)

[node name="Physical Bone mixamorig_Spine1" parent="animations/Armature/Skeleton3D" index="3"]
transform = Transform3D(97.4546, 21.8176, -5.15734, -22.4099, 94.1532, -25.1589, -0.633266, 25.6742, 96.6459, 1.93223, 0.81729, -538.704)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.60726e-08, 1.04774e-06, 0.239031)
body_offset = Transform3D(100, -7.62939e-06, 5.24521e-06, 3.33786e-06, -5.91278e-05, -100, 7.62939e-06, 100, -5.53131e-05, -2.86102e-06, 23.9031, -9.15527e-05)

[node name="Physical Bone mixamorig_Spine2" parent="animations/Armature/Skeleton3D" index="4"]
transform = Transform3D(97.1795, 22.7418, -6.2416, -22.9913, 85.4729, -46.538, -5.24872, 46.6604, 88.2908, 4.8434, 19.3452, -585.546)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.17328e-07, -3.19281e-06, 0.268901)
body_offset = Transform3D(100, -9.34601e-05, 1.52588e-05, 1.62125e-05, -7.62939e-05, -100, 9.15527e-05, 100, -6.10352e-05, 7.62939e-06, 26.8901, 0.000335693)

[node name="Physical Bone mixamorig_Neck" parent="animations/Armature/Skeleton3D" index="5"]
transform = Transform3D(-99.4235, -8.44379, -6.60841, 10.6516, -84.8477, -51.8403, -1.2298, -52.2454, 85.2579, 7.52126, 39.7002, -622.182)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.34445e-08, 3.37139e-06, 0.15125)
body_offset = Transform3D(-100, 7.05719e-05, 1.7643e-05, 2.6226e-06, 27.0179, -96.281, -7.34329e-05, -96.281, -27.0179, 6.67572e-06, 14.5624, 4.08678)

[node name="Physical Bone mixamorig_Head" parent="animations/Armature/Skeleton3D" index="6"]
transform = Transform3D(-99.9887, -0.770314, -1.29194, 1.11601, -95.5789, -29.384, -1.00847, -29.3951, 95.5767, 9.21718, 63.3741, -686.573)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7.98173e-08, 3.42727e-07, 0.538728)
body_offset = Transform3D(-100, 1.62125e-05, -1.12951e-05, 1.36569e-05, 27.0177, -96.2811, -1.58548e-05, -96.2811, -27.0177, 1.40667e-05, 51.8693, 14.5552)

[node name="Physical Bone mixamorig_LeftShoulder" parent="animations/Armature/Skeleton3D" index="7"]
transform = Transform3D(-30.7949, 93.7311, 16.3142, -82.1066, -17.5197, -54.3283, -48.0643, -30.1254, 82.3546, 43.0588, 40.9613, -640.663)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.94883e-06, -9.4992e-06, 0.482065)
body_offset = Transform3D(100, 3.62396e-05, 8.7738e-05, -3.33786e-05, 100, 0.000102997, -9.91821e-05, -0.000114441, 100, 0.000152588, 0.000900269, -48.2065)

[node name="CollisionShape3D" parent="animations/Armature/Skeleton3D/Physical Bone mixamorig_LeftShoulder" index="0"]
transform = Transform3D(0.00923476, -0.000484739, -0.00380582, 0.000330266, 0.00998348, -0.000470189, 0.00382233, 0.000308515, 0.00923551, 0.00243735, 0.506403, 0.576126)

[node name="Physical Bone mixamorig_LeftArm" parent="animations/Armature/Skeleton3D" index="8"]
transform = Transform3D(-6.35797, -59.7417, -79.9406, -99.2311, -4.73863, 11.4335, -10.6187, 80.0529, -58.9811, 163.718, -5.32695, -613.462)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.31012e-08, 1.20505e-05, 0.280533)
body_offset = Transform3D(100, -8.86917e-05, 0.000185013, 0.000193596, -0.000128865, -100, 9.9659e-05, 100, -0.000161767, -4.95911e-05, 28.0533, -0.00115967)

[node name="Physical Bone mixamorig_LeftForeArm" parent="animations/Armature/Skeleton3D" index="9"]
transform = Transform3D(37.0828, 58.5875, -72.0581, -51.6954, 77.4802, 36.3923, 77.1521, 23.7554, 59.0189, 210.958, -21.068, -617.241)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -9.90712e-06, 1.08449e-06, 0.34439)
body_offset = Transform3D(100, 0.000190735, 0.0001297, -0.000205994, 100, 0.000139236, -0.000104904, -0.00012207, 100, 0.000946045, -0.000156403, -34.439)

[node name="CollisionShape3D" parent="animations/Armature/Skeleton3D/Physical Bone mixamorig_LeftForeArm" index="0"]
transform = Transform3D(0.00992885, -0.000732298, 0.000939071, 0.000689382, 0.00996458, 0.000481621, -0.000971014, -0.000413456, 0.00994415, -0.00190806, 0.316725, 0.34971)

[node name="Physical Bone mixamorig_LeftHand" parent="animations/Armature/Skeleton3D" index="10"]
transform = Transform3D(55.5218, 40.2094, -72.8048, -33.9494, 90.8689, 24.2958, 75.9261, 11.2274, 64.1029, 234.942, 42.0152, -587.991)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.6407e-06, -1.0205e-06, 0.116015)
body_offset = Transform3D(100, -0.000169754, -5.43594e-05, 0.000144958, 100, -0.000106812, 7.72476e-05, 0.000120163, 100, -0.000457764, 0.000114441, -11.6015)

[node name="CollisionShape3D" parent="animations/Armature/Skeleton3D/Physical Bone mixamorig_LeftHand" index="0"]
transform = Transform3D(0.00960521, -0.000198011, 0.00277502, 0.000560747, 0.00990772, -0.00123396, -0.00272497, 0.00134085, 0.00952768, -0.00484276, 0.121951, 0.12091)

[node name="Physical Bone mixamorig_RightShoulder" parent="animations/Armature/Skeleton3D" index="11"]
transform = Transform3D(-3.29745, -97.8218, -20.4942, 81.377, 9.27697, -57.3736, 58.0251, -18.5695, 79.2986, -29.8467, 63.876, -634.293)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.60293e-06, 3.59742e-06, 0.482068)
body_offset = Transform3D(100, -8.05855e-05, -0.000110626, 7.24792e-05, 100, -8.15392e-05, 0.000118256, 6.62804e-05, 100, 0.000213623, -0.000320435, -48.2068)

[node name="CollisionShape3D" parent="animations/Armature/Skeleton3D/Physical Bone mixamorig_RightShoulder" index="0"]
transform = Transform3D(0.00766573, 0.000362303, 0.00641133, 0.000579314, 0.00990434, -0.00125235, -0.00639538, 0.00133144, 0.00757142, -0.0276537, 0.495512, 0.494904)

[node name="Physical Bone mixamorig_RightArm" parent="animations/Armature/Skeleton3D" index="12"]
transform = Transform3D(20.0126, -88.9405, 41.0985, 66.7845, -18.3093, -72.143, 71.6892, 41.885, 55.7343, -145.569, 65.3988, -629.604)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.42114e-06, -5.18222e-06, 0.280511)
body_offset = Transform3D(100, 9.25064e-05, -2.28882e-05, -8.58307e-05, 100, 0.00021553, 4.19617e-05, -0.000202179, 100, -0.000335693, 0.000457764, -28.0511)

[node name="CollisionShape3D" parent="animations/Armature/Skeleton3D/Physical Bone mixamorig_RightArm" index="0"]
transform = Transform3D(0.00920652, 0.000278347, 0.00389392, -0.000389352, 0.00999028, 0.000206426, -0.00388439, -0.000341656, 0.00920841, -0.00476599, 0.254076, 0.264467)

[node name="Physical Bone mixamorig_RightForeArm" parent="animations/Armature/Skeleton3D" index="13"]
transform = Transform3D(58.8537, -27.0486, 76.188, 64.6349, 72.3507, -24.2429, -48.5652, 63.5118, 60.0639, -210.176, 43.2393, -611.155)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.6999e-07, -6.74369e-06, 0.34438)
body_offset = Transform3D(100, -3.8147e-06, -0.00019455, 0, 100, 9.72748e-05, 0.000170708, -8.39233e-05, 100, 0, 0.000640869, -34.438)

[node name="CollisionShape3D" parent="animations/Armature/Skeleton3D/Physical Bone mixamorig_RightForeArm" index="0"]
transform = Transform3D(0.00999359, 0.000115744, -0.000338862, -0.000102642, 0.00999203, 0.000385858, 0.000343058, -0.000382132, 0.0099868, -0.0139532, 0.343376, 0.341013)

[node name="Physical Bone mixamorig_RightHand" parent="animations/Armature/Skeleton3D" index="14"]
transform = Transform3D(-79.019, 60.5666, 9.36395, 26.3917, 47.4182, -83.994, -55.3125, -63.8999, -53.454, -203.569, 95.2492, -537.004)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0180795, 0.0182748, 0.14133)
body_offset = Transform3D(10.7466, 99.0625, -8.43387, -6.46144, -7.76918, -99.4881, -99.2107, 11.2366, 5.56594, -0.812683, 14.3195, 0.801697)

[node name="Physical Bone mixamorig_LeftUpLeg" parent="animations/Armature/Skeleton3D" index="15"]
transform = Transform3D(-96.6517, 16.458, -19.6872, 16.2671, 98.6339, 2.59422, 19.8452, -0.695184, -98.0086, 51.0827, -11.4267, -321.944)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.12601e-06, -1.65938e-07, 0.963068)
body_offset = Transform3D(100, -1.71661e-05, -4.94421e-05, -5.34952e-05, 9.5129e-05, -100, 1.52588e-05, 100, 9.94205e-05, 0.000160217, 96.3069, -7.9155e-05)

[node name="Physical Bone mixamorig_LeftLeg" parent="animations/Armature/Skeleton3D" index="16"]
transform = Transform3D(-97.0944, 23.8977, -1.25956, 18.6373, 78.8137, 58.6604, 15.0112, 56.7212, -80.9776, 71.1308, -64.5675, -157.645)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.72292e-06, 8.13437e-06, 0.863304)
body_offset = Transform3D(100, 6.96182e-05, 7.43866e-05, 6.86646e-05, 9.15527e-05, -100, -7.34329e-05, 100, 0.000118256, -0.000236511, 86.3304, -0.000915527)

[node name="Physical Bone mixamorig_LeftFoot" parent="animations/Armature/Skeleton3D" index="17"]
transform = Transform3D(-98.4179, 12.4342, -12.6218, 17.7094, 71.2206, -67.9265, 0.543165, -69.0871, -72.2958, 76.8487, -90.2884, -61.2138)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.04729e-07, -8.50474e-06, 0.366863)
body_offset = Transform3D(100, 0.000102997, 0.000139236, 0.000132561, 0.000267029, -100, -9.91821e-05, 100, 0.000259399, -9.15527e-05, 36.6863, 0.00075531)

[node name="Physical Bone mixamorig_LeftToeBase" parent="animations/Armature/Skeleton3D" index="18"]
transform = Transform3D(-97.5804, 3.15524, -21.636, 21.4889, -4.4335, -97.5632, -4.03759, -99.8518, 3.6482, 84.625, -51.183, -35.2215)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -6.8925e-09, -1.13677e-05, 0.145397)
body_offset = Transform3D(100, 9.21488e-05, 5.72205e-05, 6.10352e-05, 0.000130653, -100, -8.14199e-05, 100, 0.000104904, -7.62939e-06, 14.5397, 0.00112152)

[node name="Physical Bone mixamorig_RightUpLeg" parent="animations/Armature/Skeleton3D" index="19"]
transform = Transform3D(-99.2253, 9.99321, 7.38086, 5.13825, 87.1024, -48.8545, -11.311, -48.0968, -86.9411, -46.0876, 51.2866, -336.508)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.76415e-06, 3.21561e-06, 0.963105)
body_offset = Transform3D(100, 1.33514e-05, -1.14441e-05, -1.38283e-05, 2.67029e-05, -100, -1.19209e-05, 100, 3.05176e-05, -0.000465393, 96.3105, -0.000350952)

[node name="Physical Bone mixamorig_RightLeg" parent="animations/Armature/Skeleton3D" index="20"]
transform = Transform3D(-99.5486, 7.1561, 6.23368, 7.19137, 99.7405, 0.343053, -6.19296, 0.789792, -99.8049, -58.5777, 98.0409, -166.624)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.77557e-06, 3.1315e-06, 0.863219)
body_offset = Transform3D(100, 3.57628e-05, 2.10349e-05, 2.2104e-05, 0.000179231, -100, -3.8147e-05, 100, 0.000194043, 0.000259399, 86.3219, -0.000480652)

[node name="Physical Bone mixamorig_RightFoot" parent="animations/Armature/Skeleton3D" index="21"]
transform = Transform3D(-98.8394, -8.58471, 12.5331, -15.1797, 59.0357, -79.274, -0.593563, -80.2564, -59.6537, -68.6416, 127.366, -58.1788)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.61286e-06, 1.40765e-06, 0.373644)
body_offset = Transform3D(100, -2.57492e-05, 2.86102e-06, 9.53674e-07, 0.000110626, -100, 1.71661e-05, 100, 7.24792e-05, 0.000160217, 37.3644, -0.000167847)

[node name="Physical Bone mixamorig_RightToeBase" parent="animations/Armature/Skeleton3D" index="22"]
transform = Transform3D(-98.0279, -5.07735, 19.0986, -19.1509, 0.558288, -98.1475, 4.87667, -99.8695, -1.51964, -76.0968, 171.232, -35.6688)
joint_offset = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.71922e-06, 1.3186e-06, 0.145147)
body_offset = Transform3D(100, -9.82732e-06, -0.000123978, -0.0001297, 0.000136137, -100, 6.45965e-06, 100, 0.000116527, 0.000289917, 14.5147, -0.000148773)

[connection signal="target_reached" from="NavigationAgent3D" to="." method="_on_navigation_agent_3d_target_reached"]
[connection signal="timeout" from="VisionTimer" to="." method="_on_vision_timer_timeout"]
[connection signal="timeout" from="AggroTimer" to="." method="_on_aggro_timer_timeout"]
[connection signal="timeout" from="IdleTimer" to="." method="_on_idle_timer_timeout"]

[editable path="animations"]
